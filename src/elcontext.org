#+TITLE: Thomas Sojka
#+DATE: <2018-02-04>
#+AUTHOR: Thomas Sojka
#+EMAIL: contact@thomas-sojka.tech

#+OPTIONS: ':nil *:t -:t ::t <:t H:2 \n:nil ^:t arch:headline author:nil
#+OPTIONS: broken-links:nil c:nil creator:nil d:(not "LOGBOOK") date:nil e:t
#+OPTIONS: email:nil f:t inline:t num:nil p:nil pri:nil prop:nil stat:t tags:t
#+OPTIONS: tasks:t tex:t timestamp:nil title:t toc:nil todo:t |:t

#+OPTIONS: html-link-use-abs-url:nil html-postamble:nil html-preamble:t
#+OPTIONS: html-scripts:t html-style:t html5-fancy:t tex:t
#+HTML_DOCTYPE: html5
#+HTML_CONTAINER: section
#+DESCRIPTION: The personal website of Thomas Sojka
#+KEYWORDS: programming emacs clojure javascript blog tech
#+HTML_HEAD: <link rel='stylesheet' href='css/site.css' type='text/css'/>
#+HTML_HEAD_EXTRA:
#+CREATOR: <a href="https://www.gnu.org/software/emacs/">Emacs</a> 26.3 (<a href="https://orgmode.org">Org</a> mode 9.1.9)
* Introducing elcontext
I have just finished my first elisp package [[https://github.com/rollacaster/elcontext][elcontext]]. It introduces context based actions for Emacs.

[[file:title.png][file:~/projects/thomas-sojka-tech/src/title.png]]

** Context based actions
A context-based action is an Emacs command called under certain conditions. These conditions can include the current time (similar to a [[https://de.wikipedia.org/wiki/Cron][cron job]]), the current folder and the current GPS location (available only for macOS).

** My use case
The original reason to create elcontext was to setup my development environment depending on my current location (e.g. workplace, home). I use [[https://github.com/rejeep/prodigy.el][prodigy]] to define services I need and elcontext starts them.

** Technical details
A new context is created interactively by using abo-abo’s fantastic [[https://github.com/abo-abo/hydra][hydra]] package:

[[file:hydra.png][file:~/projects/thomas-sojka-tech/src/hydra.png]]

If a part of a context is omitted this part is always valid e.g. no location means anywhere, no time means anytime. Each command is triggered once a day.

I used Emacs’ [[https://www.gnu.org/software/emacs/manual/html_node/elisp/Tabulated-List-Mode.html][Tabulated List mode]] to get an overview of all created contexts. Triggered contexts are highlighted in green:

[[file:list.png][file:~/projects/thomas-sojka-tech/src/list.png]]

All context data is stored in hash tables which can be created or accessed conveniently with [[https://github.com/Wilfred/ht.el][ht]] and the GPS coordinates are retrieved via [[https://github.com/purcell/osx-location][osx-location]].

** Conclusion
I am proud I finished my first Emacs package and happy to share it with you. If you consider elcontext helpful I would be pleased to [[https://github.com/rollacaster/elcontext/issues][hear about your use cases]].
